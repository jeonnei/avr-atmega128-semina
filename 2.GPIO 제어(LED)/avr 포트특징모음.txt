포트 A(PA7∼PA0) 

외부 데이터 메모리와 데이터 전송시 하위 주소와 데이터 버스로 사용
 - 외부메모리를 둘 경우에는 주소버스(A7-A0)와 데이터버스(D7-D0)로 사용.
8비트의 양방향 I/O 포트로 사용 가능
외부에 메모리를 인터페이스하지 않을 때에는 내부 풀업 저항(20㏀∼50㏀)을 갖음.


포트 B(PB7~PB0)  : 나눠서 다른 기능도 사용이 가능하다. 포트A는 불가.
포트는 중복된 기능을 가지고 있는 포트. 내부적으로 풀업 저항(20㏀∼50㏀)
8비트의 양방향 I/O 포트로 사용 가능

PB7(핀17) OC2,OC1C : 타이머2용의 비교신호 출력 혹은 타이머 1용의 비교신호C 출력
PB6(핀16) OC1B : 타이머 1용의 비교신호B 출력
PB5(핀15) OC1A : 타이머 1용의 비교신호A 출력
PB4(핀14) OC0 : 타이머0 용의 비교신호 출력
PB3(핀13) MISO : SPI 채널의 마스터 데이터 입력 혹은 슬레이브 데이터 출력 신호 단자
PB2(핀12) MOSI : SPI 채널의 마스터 데이터 출력 혹은 슬레이브 데이터 입력 신호 단자
PB1(핀11) SCK : SPI 채널의 마스터 클럭 출력 혹은 슬레이브 클럭 입력 신호 단자
PB0(핀10) SS : SPI 태널의 슬레이브 선택 입력 신호 단자


포트 C(PC7~PC0)
외부 데이터 메모리와 데이터 전송시 상위 주소와 데이터 버스로 사용
외부메모리를 둘 경우에는 주소버스(A15-A8)로 사용된다.
8비트의 양방향 I/O 포트로 사용 가능
외부에 메모리를 인터페이스하지 않을 때에는 내부 풀업 저항(20㏀∼50㏀)을 갖음

 

*ATmega128은 외부메모리 확장시 64K 까지 가능하다. 이는 위의 노랑과 초록으로 표시한 포트A,C 총16핀 을 이용한 주소와 데이터버스 사용이 가능하기 때문이다. 2의 16승은 64K 이기 때문이다.


포트 D(PD7∼PD0)
포트는 중복된 기능을 가지고 있는 포트.  내부적으로 풀업 저항(20㏀∼50㏀)  8비트의 양방향 I/O 포트로 사용 가능

PD7(핀32) T2 : 타이머2 클럭 입력
PD6(핀31) T1 : 타이머1 클럭 입력
PD5(핀30) XCK : USART1 외부클럭 입출력
PD4(핀29) ICP1 : 타이머1 입력 캡춰
PD3(핀28) INT3/TXD1 : 외부인터럽트 3 혹은 USART1 송신
PD2(핀27) INT2/RXD1 : 외부인터럽트 2 혹은 USART1 수신
PD1(핀26) INT1/SDA : 외부인터럽트 1 혹은 2선 방식의 직렬 인터페이스용 데이터 단자
PD0(핀25) INT0/SCL : 외부인터럽트 0 혹은 2선 방식의 직렬 인터페이스용 클록 단자


포트 E(PE7~PE0)
내부 풀업 저항이 있는 8비트 양방향 입출력 단자. 타이머용 단자, 외부인터럽트, 아날로그 비교기, USART용 단자로도 사용된다
내부적으로 풀업 저항(20㏀∼50㏀) 8비트의 양방향 I/O 포트로 사용 가능

PE7(핀9) INT7/ICP3 : 외부인터럽트 7 혹은 타이머3 입력 캡춰
PE6(핀8) INT6/T3 : 외부인터럽트 6 혹은 타이머3 클럭 입력
PE5(핀7) INT5/OC3C : 외부인터럽트 5 혹은 타이머 3용의 비교신호C 출력
PE4(핀6) INT4/OC3B : 외부인터럽트 4 혹은 타이머 3용의 비교신호B 출력
PE3(핀5) AIN1/OC3A : 비교기 -입력 혹은 타이머 3용의 비교신호A 출력
PE2(핀4) AIN0/XCK0 : 비교기 +입력 혹은 USART0 외부 클럭 입출력
PE1(핀3) PDO/TXD0 : 프로그램 데이터 출력(ISP 케이블의 MISO와 연결) 혹은 USART0 송신
PE0(핀2) PDI/RXD0 : 프로그램 데이터 입력(ISP 케이블의 MOSI와 연결) 혹은 USART0 수신


포트 F(PF7∼PF0)
포트는 중복된 기능을 가지고 있는 포트 . 내부적으로 풀업 저항(20㏀∼50㏀)  A/D 컨버터의 입력포트로 사용
8비트의 양방향 I/O 포트로 사용 가능

PF7(핀54) ADC7/TDI : ADC 입력채널 7 혹은 JTAG 테스트용 데이터 입력 단자
PF6(핀55) ADC6/TDO : ADC 입력채널 6 혹은 JTAG 테스트용 데이터 출력 단자
PF5(핀56) ADC5/TMS : ADC 입력채널 5 혹은 JTAG 테스트용 모드 선택 단자
PF4(핀57) ADC4/TCK : ADC 입력채널 4 혹은 JTAG 테스트용 클럭 단자
PF3(핀58) ADC3 : ADC 입력채널 3
PF2(핀59) ADC2 : ADC 입력채널 2
PF1(핀60) ADC1 : ADC 입력채널 1
PF0(핀61) ADC0 : ADC 입력채널 0


포트 G(PG4~PG0)
포트는 중복된 기능을 가지고 있는 포트 . 내부적으로 풀업 저항(20㏀∼50㏀)
외부 메모리 접속을 위한 스트로브 신호용, RTC(Real Time Counter) 타이머용 발진기 단자로도 사용된다
5비트의 양방향 I/O 포트로 사용 가능
           : 마스터 리셋 입력(액티브 LOW 신호)

PG4(핀19) TOSC1 : 타이머 0의 RTC 기능 사용시 클럭 발생을 위한 수정발진자 접속단자
PG3(핀18) TOSC2 : 타이머 0의 RTC 기능 사용시 클럭 발생을 위한 수정발진자 접속단자
PG2(핀43) ALE : 외부 메모리에 접근할 때 하위주소값을 래치하도록 신호를 출력
PG1(핀34) RD : 외부 테이터 메모리를 읽을 때 사용되는 스트로브 신호 출력 단자로 사용
PG0(핀33) WR : 외부 데이터 메모리에 쓸 때 사용되는 스트로브 신호 출력 단자로 사용


기타핀 (11개핀)
AVCC : A/D 컨버터 및 포트 F의 전원 (아날로그 장치에 공급하는 별도의 전원)
AREF : A/D 컨버터의 참조전압
PEN : SPI를 활성화 시키는 프로그래밍 인에이블 핀

RESET : 리셋신호, 최소 50Ns이상 low 상태유지 필요
XTAL1, XTAL2  : 크리스탈이나 오실레이터가 연결되어야 함.
VCC, GND : 작동을 위한 필수연결.

(VCC와 GND가 2~3개씩 존재한 이유는 원활한 공급을 위해서입니다)



출처: https://electronicsdo.tistory.com/entry/AVR3-ATmega128의-기본구조 [도닦는공돌이]